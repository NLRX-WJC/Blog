(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{461:function(s,t,a){s.exports=a.p+"assets/img/01.10376c66.png"},462:function(s,t){s.exports="data:image/png;base64,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AFgcwQgA0Bxf0wEAmuMXGAAAzc11Z8SvdgMA9sLcPzMCAGDZCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDmCEYAgOYIRgCA5ghGAIDGuu7/Ae/Zpb67illhAAAAAElFTkSuQmCC"},605:function(s,t,a){"use strict";a.r(t);var n=a(12),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_1-前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-前言"}},[s._v("#")]),s._v(" 1. 前言")]),s._v(" "),t("p",[s._v("在官方的"),t("code",[s._v("axios")]),s._v("中，默认配置对象里面还提供了"),t("code",[s._v("transformRequest")]),s._v(" 和 "),t("code",[s._v("transformResponse")]),s._v(" 这两个属性，它们的值可以是一个函数或者是一个由多个函数组成的数组。官方对这个属性介绍如下：")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("transformRequest:")]),s._v(" 允许你在将请求数据发送到服务器之前对其进行修改，这只适用于请求方法 "),t("code",[s._v("put")]),s._v("、"),t("code",[s._v("post")]),s._v(" 和 "),t("code",[s._v("patch")]),s._v("，如果值是数组，则数组中的最后一个函数必须返回一个字符串或 "),t("code",[s._v("FormData")]),s._v("、"),t("code",[s._v("URLSearchParams")]),s._v("、"),t("code",[s._v("Blob")]),s._v(" 等类型作为 "),t("code",[s._v("xhr.send")]),s._v(" 方法的参数，而且在 "),t("code",[s._v("transform")]),s._v(" 过程中可以修改 "),t("code",[s._v("headers")]),s._v(" 对象。")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `transformRequest` allows changes to the request data before it is sent to the server")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// This is only applicable for request methods 'PUT', 'POST', 'PATCH' and 'DELETE'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// The last function in the array must return a string or an instance of Buffer, ArrayBuffer,")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// FormData or Stream")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// You may modify the headers object.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("transformRequest")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" headers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Do whatever you want to transform the data")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("transformResponse:")]),s._v(" 允许你在把响应数据传递给 "),t("code",[s._v("then")]),s._v(" 或者 "),t("code",[s._v("catch")]),s._v(" 之前对它们进行修改。")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `transformResponse` allows changes to the response data to be made before")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// it is passed to then/catch")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("transformResponse")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("data")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Do whatever you want to transform the data")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])])]),s._v(" "),t("p",[s._v("当值为数组的时候，数组的每一个函数都是一个转换函数，数组中的函数就像管道一样依次执行，前者的输出作为后者的输入。")]),s._v(" "),t("p",[s._v("OK，了解了这两个属性的作用后，我们就来实现它。其实实现起来也没啥难度，因为我们之前在封装"),t("code",[s._v("dispatchRequest")]),s._v("函数时，在该函数内部的"),t("code",[s._v("processConfig")]),s._v("函数中我们已经对请求的"),t("code",[s._v("data")]),s._v("、"),t("code",[s._v("headers")]),s._v("和响应的"),t("code",[s._v("data")]),s._v("做了转换，大不了现在把它们都抽离到默认配置的"),t("code",[s._v("transformRequest")]),s._v(" 和 "),t("code",[s._v("transformResponse")]),s._v(" 这两个属性里就完事了。")]),s._v(" "),t("h1",{attrs:{id:"_2-修改默认配置对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改默认配置对象"}},[s._v("#")]),s._v(" 2. 修改默认配置对象")]),s._v(" "),t("p",[s._v("我们需要修改之前创建的默认配置对象"),t("code",[s._v("defaults")]),s._v("，为其添加"),t("code",[s._v("transformRequest")]),s._v(" 和 "),t("code",[s._v("transformResponse")]),s._v(" 这两个属性，并且把之前封装"),t("code",[s._v("dispatchRequest")]),s._v("函数时对请求的"),t("code",[s._v("data")]),s._v("、"),t("code",[s._v("headers")]),s._v("和响应的"),t("code",[s._v("data")]),s._v("做的转换分别抽离到这两个属性内。")]),s._v(" "),t("p",[s._v("修改"),t("code",[s._v("defaults")]),s._v("之前我们先来修改"),t("code",[s._v("AxiosRequestConfig")]),s._v("接口类型定义，因为"),t("code",[s._v("defaults")]),s._v("的类型是"),t("code",[s._v("AxiosRequestConfig")]),s._v("，我们要在"),t("code",[s._v("AxiosRequestConfig")]),s._v("接口定义中添加"),t("code",[s._v("transformRequest")]),s._v(" 和 "),t("code",[s._v("transformResponse")]),s._v(" 这两个属性，修改如下：")]),s._v(" "),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// src/types/index.ts")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AxiosRequestConfig")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  url"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  method"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Method"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  headers"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  params"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  responseType"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" XMLHttpRequestResponseType"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  timeout"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("number")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  transformRequest"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AxiosTransformer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" AxiosTransformer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  transformResponse"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AxiosTransformer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" AxiosTransformer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("propName"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AxiosTransformer")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" headers"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("由于"),t("code",[s._v("transformRequest")]),s._v(" 和 "),t("code",[s._v("transformResponse")]),s._v(" 它们的值都要么是一个转换函数，要么是一个由转换函数组成的数组，所以我们为转换函数单独定义了接口类型"),t("code",[s._v("AxiosTransformer")]),s._v("。")]),s._v(" "),t("p",[s._v("接口定义修改好之后，我们就可以在"),t("code",[s._v("src/defaults.ts")]),s._v("中修改之前创建好的默认配置对象了，如下：")]),s._v(" "),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" processHeaders "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./helpers/header"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" transformRequest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" transformResponse "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./helpers/data"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" defaults"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AxiosRequestConfig "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  timeout"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  headers"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    common"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      Accept"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"application/json, text/plain, */*"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  transformRequest"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" headers"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("processHeaders")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("headers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("transformRequest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  transformResponse"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("transformResponse")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("p",[s._v("我们把之前封装"),t("code",[s._v("dispatchRequest")]),s._v("函数和"),t("code",[s._v("processConfig")]),s._v("函数时对请求的"),t("code",[s._v("data")]),s._v("、"),t("code",[s._v("headers")]),s._v("和响应的"),t("code",[s._v("data")]),s._v("做的转换分别抽离到这两个属性内，然后在"),t("code",[s._v("dispatchRequest")]),s._v("函数和"),t("code",[s._v("processConfig")]),s._v("函数内调用默认配置里的"),t("code",[s._v("transformRequest")]),s._v(" 和 "),t("code",[s._v("transformResponse")]),s._v(" 就好了，如下：")]),s._v(" "),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("processConfig")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AxiosRequestConfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("url "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("transformUrl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("transform")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("headers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("transformRequest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("headers "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("flattenHeaders")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("headers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("method"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("transformResponseData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("res"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AxiosResponse"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AxiosResponse "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("transform")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("headers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("transformResponse"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("由于"),t("code",[s._v("transformRequest")]),s._v(" 和 "),t("code",[s._v("transformResponse")]),s._v(" 这两个属性值有可能是多个转换函数构成的数组，而且当执行这些转换函数的时候，前一个转换函数的返回输出值是后一个转换函数的输入值，针对这一问题，我们创建了"),t("code",[s._v("transform")]),s._v("函数，在该函数内部遍历执行所有的转换函数，并且把前一个转换函数的返回值作为参数传给后一个转换函数。在外层我们只需调用"),t("code",[s._v("transform")]),s._v("函数即可。")]),s._v(" "),t("h1",{attrs:{id:"_3-实现-transform-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-实现-transform-函数"}},[s._v("#")]),s._v(" 3. 实现 transform 函数")]),s._v(" "),t("p",[s._v("正如上面所说，该函数的主要作用是执行所有的转换函数，并且把前一个转换函数的返回值作为参数传给后一个转换函数。我们在"),t("code",[s._v("src/core")]),s._v("目录下创建"),t("code",[s._v("transform.ts")]),s._v("，其实现如下：")]),s._v(" "),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" AxiosTransformer "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"../types"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("transform")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  headers"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  fns"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AxiosTransformer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" AxiosTransformer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("fns"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Array")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("isArray")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fns"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    fns "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("fns"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  fns"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    data "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" headers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("代码说明：")]),s._v(" "),t("ul",[t("li",[s._v("该函数接收三个参数，待转换的数据"),t("code",[s._v("data")]),s._v("、待转换的"),t("code",[s._v("headers")]),s._v("以及所有的转换函数。")]),s._v(" "),t("li",[s._v("首先判断转换函数是否为空，若为空，表示不进行任何转换，则直接把"),t("code",[s._v("data")]),s._v("返回；")]),s._v(" "),t("li",[s._v("然后再判断转换函数是否为数组，若不为数组，则将其强制变成一个长度为 1 的数组，这是为了下面可以统一遍历；")]),s._v(" "),t("li",[s._v("遍历所有的转换函数并执行，执行的时候每个转换函数返回的 "),t("code",[s._v("data")]),s._v(" 会作为下一个转换函数的参数 "),t("code",[s._v("data")]),s._v(" 传入。")])]),s._v(" "),t("p",[s._v("OK,"),t("code",[s._v("transformRequest")]),s._v(" 和 "),t("code",[s._v("transformResponse")]),s._v(" 这两个属性的添加以及必要的逻辑就已经实现完毕了，接下来我们就编写"),t("code",[s._v("demo")]),s._v("测试下效果如何。")]),s._v(" "),t("h1",{attrs:{id:"_4-demo-编写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-demo-编写"}},[s._v("#")]),s._v(" 4. demo 编写")]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v("examples")]),s._v(" 目录下创建 "),t("code",[s._v("transformData")]),s._v("目录，在 "),t("code",[s._v("transformData")]),s._v("目录下创建 "),t("code",[s._v("index.html")]),s._v(":")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token doctype"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<!")]),t("span",{pre:!0,attrs:{class:"token doctype-tag"}},[s._v("DOCTYPE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token name"}},[s._v("html")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("html")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("lang")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("en"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("head")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("meta")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("charset")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("UTF-8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("title")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("transformData demo"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("title")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("head")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("body")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("script")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("src")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("/__build__/transformData.js"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token script"}}),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("body")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("html")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("接着再创建 "),t("code",[s._v("app.ts")]),s._v(" 作为入口文件：")]),s._v(" "),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" axios "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"../../src/axios"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" AxiosTransformer "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"../../src/types"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("axios")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  url"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/api/transformData"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  method"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"post"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    a"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  transformRequest"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("axios"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("defaults"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("transformRequest "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" AxiosTransformer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  transformResponse"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("axios"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("defaults"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("transformResponse "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" AxiosTransformer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"对响应进行了转换"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("console")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("p",[s._v("接着在 "),t("code",[s._v("server/server.js")]),s._v(" 添加新的接口路由：")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 添加transformRequest 和 transformResponse")]),s._v("\nrouter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("post")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/api/transformData"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("json")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("body"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("最后在根目录下的"),t("code",[s._v("index.html")]),s._v("中加上启动该"),t("code",[s._v("demo")]),s._v("的入口：")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("li")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("a")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("href")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("examples/transformData"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("transformData"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("li")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OK,我们在命令行中执行：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同时开启客户端和服务端")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run server "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" start\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("接着我们打开 "),t("code",[s._v("chrome")]),s._v(" 浏览器，访问 "),t("a",{attrs:{href:"http://localhost:8000/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://localhost:8000/"),t("OutboundLink")],1),s._v(" 即可访问我们的 "),t("code",[s._v("demo")]),s._v(" 了，我们点击 "),t("code",[s._v("transformData")]),s._v("，通过"),t("code",[s._v("F12")]),s._v("的 "),t("code",[s._v("network")]),s._v(" 部分我们可以看到请求已正常发出，并且对请求的"),t("code",[s._v("data.a")]),s._v("加了 1，响应的"),t("code",[s._v("data")]),s._v("也添加了"),t("code",[s._v("b")]),s._v("属性，如下：")]),s._v(" "),t("p",[t("img",{attrs:{src:a(461),alt:""}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(462),alt:""}})]),s._v(" "),t("p",[s._v("OK，请求和响应的配置化就完成了。")])])}),[],!1,null,null,null);t.default=e.exports}}]);